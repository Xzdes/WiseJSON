# üì¶ WiseJSON DB (–ú—É–¥—Ä–∞—è JSON –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö)

![WiseJSON –õ–æ–≥–æ—Ç–∏–ø](logo.png)

[npm version](https://npmjs.org/package/wise-json-db)  
[License](https://github.com/Xzdes/WiseJSON/blob/master/LICENSE)  
[Node.js CI](https://github.com/Xzdes/WiseJSON/actions/workflows/nodejs.yml)

**WiseJSON DB** ‚Äî —ç—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –±—ã—Å—Ç—Ä–∞—è, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–∞—è –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è JSON-–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Node.js —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–∞–∫–µ—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, TTL (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏), –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ —Å–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –≤–∞—à–∏ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

*   **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏.
*   **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
    *   **WAL (Write-Ahead Logging):** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –∂—É—Ä–Ω–∞–ª –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Å–±–æ–µ–≤.
    *   **–ß–µ–∫–ø–æ–∏–Ω—Ç—ã:** –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Å–Ω–∞–ø—à–æ—Ç—ã) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.
        *   **–°–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –±–æ–ª—å—à–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ–∫–ø–æ–∏–Ω—Ç–∞ –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é.
        *   **–£–ø—Ä–∞–≤–ª—è–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö—Ä–∞–Ω–∏–º—ã—Ö —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤.**
    *   **–ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ JSON –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º.
    *   **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏:** –î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π `insert`, `insertMany` –∏ `update` –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–æ –∑–∞–ø–∏—Å–∏ –≤ WAL, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≤–µ–¥–æ–º–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
*   **ACID-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π.
*   **–ò–Ω–¥–µ–∫—Å—ã:** –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏ –Ω–µ—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –ø–æ –ø–æ–ª—è–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∏—Å–∫–∞.
*   **TTL (Time-To-Live):** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ –∏–ª–∏ —Ç–æ—á–Ω–æ–π –¥–∞—Ç—ã –∏—Å—Ç–µ—á–µ–Ω–∏—è.
*   **–ü–∞–∫–µ—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:** –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ `insertMany` –∏ `updateMany` –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏.
*   **–í—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –∏ —Ñ–∞–π–ª–æ–≤–∞—è:** –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.
*   **–ü—Ä–æ—Å—Ç–æ–π –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π API:** –õ–µ–≥–∫–æ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏.
*   **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
    *   **–ë–∞–∑–æ–≤—ã–π CLI (`wise-json`):** –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.
    *   **Data Explorer (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π CLI `wisejson-explorer`):** –î–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞, —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏.
*   **–õ–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Ç–æ–ª—å–∫–æ `uuid` –∏ `proper-lockfile`).
*   **Graceful Shutdown:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —à—Ç–∞—Ç–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
*   **–ö–∞—Å—Ç–æ–º–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä ID:** –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–ª—è `_id`.
*   **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `proper-lockfile` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∫ –æ–¥–Ω–æ–π –ë–î.

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

WiseJSON DB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ–≥–æ –¥–≤–µ runtime-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

*   [`uuid`](https://www.npmjs.com/package/uuid) ‚Äî –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
*   [`proper-lockfile`](https://www.npmjs.com/package/proper-lockfile) ‚Äî –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ñ–∞–π–ª–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–µ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

–û–±–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞:

```bash
npm install wise-json-db
```

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å–±–æ—Ä–∫–∏ –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ WiseJSON DB –∫–∞–∫ —á–∞—Å—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–≥–æ –±–∞–Ω–¥–ª–∞, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–∏ –ø–∞–∫–µ—Ç—ã —Ç–∞–∫–∂–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ –≤–∞—à–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
npm install uuid proper-lockfile
```

---

## üí° –ü–æ—á–µ–º—É WiseJSON DB?

*   **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ:** –ú–µ—Ö–∞–Ω–∏–∑–º—ã WAL, —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ –∏ –∞—Ç–æ–º–∞—Ä–Ω–æ–π –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–æ–≤ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –¥–∞–∂–µ –≤ —Å–ª—É—á–∞–µ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã—Ö —Å–±–æ–µ–≤.
*   **–°–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º:** –ò–Ω–¥–µ–∫—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö.
*   **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤. –ù–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞ —Å—á–∏—Ç–∞–Ω–Ω—ã–µ –º–∏–Ω—É—Ç—ã.
*   **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏:** –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, –∏ –≤—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ –∫ –Ω–∏–º –¥–æ—Å—Ç—É–ø.
*   **–ì–∏–±–∫–æ—Å—Ç—å JSON:** –ù–∞—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å JSON, –ø–æ–∑–≤–æ–ª—è—è —Ö—Ä–∞–Ω–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã.

---

## üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install wise-json-db
# –∏–ª–∏
yarn add wise-json-db
```

---

## üìö –û—Å–Ω–æ–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (API)

```javascript
const WiseJSON = require('wise-json-db');
const path = require('path');

// –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å, –≥–¥–µ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
const dbPath = path.resolve(__dirname, 'myDataBase');

async function main() {
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –æ–ø—Ü–∏—è–º–∏
  const db = new WiseJSON(dbPath, {
    ttlCleanupIntervalMs: 60000, // –ü—Ä–æ–≤–µ—Ä—è—Ç—å TTL –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
    checkpointIntervalMs: 300000 // –î–µ–ª–∞—Ç—å —á–µ–∫–ø–æ–∏–Ω—Ç –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
  });
  await db.init(); // –í–∞–∂–Ω–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î

  // –ü–æ–ª—É—á–µ–Ω–∏–µ (–∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ) –∫–æ–ª–ª–µ–∫—Ü–∏–∏ 'users'
  const users = await db.collection('users');
  await users.initPromise; // –î–æ–∂–∏–¥–∞–µ–º—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∞–º–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏

  // –í—Å—Ç–∞–≤–∫–∞ –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
  const user1 = await users.insert({ name: '–ê–ª–∏—Å–∞', age: 30, city: '–ú–æ—Å–∫–≤–∞' });
  console.log('–í—Å—Ç–∞–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user1);

  // –ü–∞–∫–µ—Ç–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  const userBatch = await users.insertMany([
    { name: '–ë–æ—Ä–∏—Å', age: 24, city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥' },
    { name: '–í–µ—Ä–∞', age: 35, city: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', tags: ['dev', '–∫–æ—Ç–∏–∫–∏'] }
  ]);
  console.log(`–í—Å—Ç–∞–≤–ª–µ–Ω–æ ${userBatch.length} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–∞–∫–µ—Ç–æ–º.`);

  // –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
  const allUsers = await users.getAll();
  console.log('–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:', allUsers.length);

  // –ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ —É—Å–ª–æ–≤–∏—é
  const usersFromMoscow = await users.find(user => user.city === '–ú–æ—Å–∫–≤–∞');
  console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ –ú–æ—Å–∫–≤—ã:', usersFromMoscow);

  // –ü–æ–∏—Å–∫ –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
  const devUser = await users.findOne(user => user.tags && user.tags.includes('dev'));
  console.log('–ü–µ—Ä–≤—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:', devUser);

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
  if (devUser) {
    const updatedDevUser = await users.update(devUser._id, { age: devUser.age + 1, lastLogin: new Date().toISOString() });
    console.log('–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:', updatedDevUser);
  }

  // –ü–∞–∫–µ—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  const updatedCount = await users.updateMany(
    (user) => user.age > 30, // –£—Å–ª–æ–≤–∏–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    { status: 'senior' }     // –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  );
  console.log(`–û–±–Ω–æ–≤–ª–µ–Ω–æ ${updatedCount} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å—Ç–∞—Ç—É—Å senior).`);

  // –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
  await users.createIndex('city'); // –û–±—ã—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å
  await users.createIndex('name', { unique: true }); // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å

  // –ü–æ–∏—Å–∫ –ø–æ –∏–Ω–¥–µ–∫—Å—É
  const usersFromSpbByIndex = await users.findByIndexedValue('city', '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥');
  console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞ (–ø–æ –∏–Ω–¥–µ–∫—Å—É):', usersFromSpbByIndex);

  const borisByName = await users.findOneByIndexedValue('name', '–ë–æ—Ä–∏—Å');
  console.log('–ë–æ—Ä–∏—Å (–ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É –∏–Ω–¥–µ–∫—Å—É –∏–º–µ–Ω–∏):', borisByName);

  console.log('–¢–µ–∫—É—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã:', await users.getIndexes());

  // –í—Å—Ç–∞–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å TTL (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ 5 —Å–µ–∫—É–Ω–¥)
  const temporaryData = await users.insert({
    message: '–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–∞–º–æ—É–Ω–∏—á—Ç–æ–∂–∏—Ç—Å—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥',
    expireAt: Date.now() + 5000 // –¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è
    // –∏–ª–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: ttl: 5000 (–≤ –º—Å –æ—Ç createdAt)
  });
  console.log('–í—Å—Ç–∞–≤–ª–µ–Ω—ã –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (ID):', temporaryData._id);

  // –ü—Ä–∏–º–µ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
  const txn = db.beginTransaction();
  try {
    const logs = await db.collection('logs'); // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è –ª–æ–≥–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–∞
    await logs.initPromise;

    // –û–ø–µ—Ä–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    await txn.collection('users').insert({ name: '–î–∏–∞–Ω–∞ –í –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏', age: 28 });
    await txn.collection('logs').insert({ action: 'USER_CREATED', user: '–î–∏–∞–Ω–∞ –í –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏', timestamp: Date.now() });
    
    await txn.commit(); // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
    console.log('–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.');
  } catch (error) {
    await txn.rollback(); // –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏
    console.error('–û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–º–µ–Ω–µ–Ω—ã:', error);
  }

  // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
  console.log('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ users:', await users.stats());

  // –ó–∞–∫—Ä—ã—Ç–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–≤–∞–∂–Ω–æ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö)
  await db.close();
  console.log('–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫—Ä—ã—Ç–∞.');
}

main().catch(console.error);
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `WiseJSON` –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –æ–ø—Ü–∏—è–º–∏:

```javascript
const db = new WiseJSON('/–ø—É—Ç—å/–∫/–≤–∞—à–µ–π/–±–¥', {
  // –ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∏—Å—Ç–µ–∫—à–∏–º TTL (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 60000 (1 –º–∏–Ω—É—Ç–∞)
  ttlCleanupIntervalMs: 60000,

  // –ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
  // 0 –∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç —á–µ–∫–ø–æ–∏–Ω—Ç—ã –ø–æ —Ç–∞–π–º–µ—Ä—É.
  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 300000 (5 –º–∏–Ω—É—Ç)
  checkpointIntervalMs: 300000,

  // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ WAL-—Ñ–∞–π–ª–µ –ø–µ—Ä–µ–¥ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–º —Å–æ–∑–¥–∞–Ω–∏–µ–º —á–µ–∫–ø–æ–∏–Ω—Ç–∞.
  // 0 –∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç —ç—Ç–æ—Ç —Ç—Ä–∏–≥–≥–µ—Ä.
  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1000
  maxWalEntriesBeforeCheckpoint: 1000,

  // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —á–µ–∫–ø–æ–∏–Ω—Ç–µ (–≤ –±–∞–π—Ç–∞—Ö).
  // –ë–æ–ª—å—à–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –±—É–¥—É—Ç —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ–∫–ø–æ–∏–Ω—Ç–∞.
  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 2 * 1024 * 1024 (2MB)
  maxSegmentSizeBytes: 2097152,

  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å. –°—Ç–∞—Ä—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª—è—Ç—å—Å—è.
  // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 1.
  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5
  checkpointsToKeep: 5,

  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ _id –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ uuid.
  idGenerator: () => `my-custom-id-${Date.now()}-${Math.random().toString(36).slice(2)}`,

  // –û–ø—Ü–∏–∏ –¥–ª—è —á—Ç–µ–Ω–∏—è WAL-—Ñ–∞–π–ª–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.
  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: { recover: false, strict: false }
  //   recover: true - –ø—ã—Ç–∞—Ç—å—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –ø—Ä–æ–ø—É—Å–∫–∞—è –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ WAL (—Å –≤—ã–≤–æ–¥–æ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è).
  //   strict: true - –±—Ä–æ—Å–∞—Ç—å –æ—à–∏–±–∫—É –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∂–µ –æ—à–∏–±–∫–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫–∏ WAL.
  // –ï—Å–ª–∏ recover=false –∏ strict=false (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º.
  walReadOptions: {
    recover: true, 
    strict: false
  },

  // walForceSync: false (—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –æ–ø—Ü–∏—è, —Å–≤—è–∑–∞–Ω–∞ —Å fsync WAL —Ñ–∞–π–ª–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false)
});
```

---

## üõ†Ô∏è –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (CLI)

WiseJSON DB –≤–∫–ª—é—á–∞–µ—Ç –¥–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

### 1Ô∏è‚É£ –ë–∞–∑–æ–≤—ã–π CLI: `wise-json`

–ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `npx`.

–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥:
```bash
# –ü–æ–º–æ—â—å
wise-json help

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π
wise-json list

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∏–Ω–¥–µ–∫—Å—ã)
wise-json info <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏>

# –í—Å—Ç–∞–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (JSON –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏)
wise-json insert <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> '{"name":"–ò–≤–∞–Ω","age":30}'

# –ü–∞–∫–µ—Ç–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ –∏–∑ —Ñ–∞–π–ª–∞ data.json
wise-json insert-many <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> data.json
# –ü–∞–∫–µ—Ç–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ —Å TTL –≤ 1 —á–∞—Å
wise-json insert-many <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> data.json --ttl 3600000

# –ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—Ñ–∏–ª—å—Ç—Ä - JSON-—Å—Ç—Ä–æ–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ $gt, $lt, $in, $regex, $or, $and)
wise-json find <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> '{"age":{"$gt":25}}'
wise-json find <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> '{"$or":[{"city":"–ú–æ—Å–∫–≤–∞"},{"tags":{"$in":["dev"]}}]}'

# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–æ ID
wise-json get <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> <ID_–¥–æ–∫—É–º–µ–Ω—Ç–∞>

# –£–¥–∞–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–æ ID
wise-json remove <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> <ID_–¥–æ–∫—É–º–µ–Ω—Ç–∞>

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
wise-json clear <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏>

# –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ —Ñ–∞–π–ª
wise-json export <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> export_data.json

# –ò–º–ø–æ—Ä—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é
wise-json import <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> import_data.json
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è `wise-json`:**

*   `WISE_JSON_PATH`: –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `./wise-json-db-data`).
*   `WISE_JSON_LANG`: –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ CLI (`ru` –∏–ª–∏ `en`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `en`).

### 2Ô∏è‚É£ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π CLI –∏ Data Explorer: `wisejson-explorer`

–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏, –≤–∫–ª—é—á–∞—è —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞–º–∏, –∞ —Ç–∞–∫–∂–µ —Å–ª—É–∂–∏—Ç –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Data Explorer.

–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ `wisejson-explorer`:
```bash
# –ü–æ–º–æ—â—å
wisejson-explorer --help

# –°–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ü–∏–π
wisejson-explorer list-collections

# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
wisejson-explorer show-collection <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> --limit 5 --offset 0 --sort age --order desc --filter '{"city":"–ú–æ—Å–∫–≤–∞"}'

# –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ JSON (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ CSV
wisejson-explorer export-collection <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> data.json
wisejson-explorer export-collection <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> data.csv --output csv

# –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é (—Ä–µ–∂–∏–º—ã: append, replace)
# –¢—Ä–µ–±—É–µ—Ç --allow-write –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏
wisejson-explorer import-collection <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> data.json --mode replace --allow-write

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞–º–∏
wisejson-explorer list-indexes <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏>
wisejson-explorer create-index <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> <–∏–º—è_–ø–æ–ª—è> --unique --allow-write
wisejson-explorer drop-index <–∏–º—è_–∫–æ–ª–ª–µ–∫—Ü–∏–∏> <–∏–º—è_–ø–æ–ª—è> --allow-write
```
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `wisejson-explorer` —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ "—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è". –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π, –∏–∑–º–µ–Ω—è—é—â–∏—Ö –¥–∞–Ω–Ω—ã–µ (–∏–º–ø–æ—Ä—Ç, —Å–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤), –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–ª–∞–≥ `--allow-write`.

---

## üåê Data Explorer (–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Data Explorer –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
node explorer/server.js
# –∏–ª–∏, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ –∏–ª–∏ –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞:
wisejson-explorer-server
```
–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É [http://127.0.0.1:3000](http://127.0.0.1:3000) (–ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `PORT`).

Data Explorer –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é. –î–ª—è –∑–∞—â–∏—Ç—ã –¥–æ—Å—Ç—É–ø–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `WISEJSON_AUTH_USER` –∏ `WISEJSON_AUTH_PASS`.

---

## üîí –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

WiseJSON DB —É–¥–µ–ª—è–µ—Ç –æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö:
*   **Write-Ahead Logging (WAL):** –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–≤—Å—Ç–∞–≤–∫–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ) —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ª–æ–≥-—Ñ–∞–π–ª (WAL). –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ WAL –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –¥–∞–Ω–Ω—ã–º –≤ –ø–∞–º—è—Ç–∏. –í —Å–ª—É—á–∞–µ —Å–±–æ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞, –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ WAL-—Ñ–∞–π–ª –±—É–¥–µ—Ç –ø—Ä–æ—á–∏—Ç–∞–Ω, –∏ –≤—Å–µ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ, –Ω–æ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–æ –º–æ–º–µ–Ω—Ç–∞ —Å–±–æ—è.
*   **–ß–µ–∫–ø–æ–∏–Ω—Ç—ã:** –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (–∏–ª–∏ –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–º–∞ WAL) —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π —Å–Ω–∏–º–æ–∫ (—á–µ–∫–ø–æ–∏–Ω—Ç) —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –∑–∞–ø–∏—Å–∏ WAL, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Å–¥–µ–ª–∞–Ω—ã *–ø–æ—Å–ª–µ* –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —á–µ–∫–ø–æ–∏–Ω—Ç–∞. –°—Ç–∞—Ä—ã–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è.
*   **–ê—Ç–æ–º–∞—Ä–Ω–∞—è –ó–∞–ø–∏—Å—å –§–∞–π–ª–æ–≤:** –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–ø–∏—Å–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –∞—Ç–æ–º–∞—Ä–Ω—ã–º –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Ä—á—É –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –≤–æ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å–±–æ–π.
*   **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –§–∞–π–ª–æ–≤:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `proper-lockfile` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É —Å —Ñ–∞–π–ª–∞–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–∞–∂–µ –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Node.js, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤.

---

## ü§ù –í–∫–ª–∞–¥ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É (Contributing)

–ú—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–¥—ã –≤–∞—à–µ–º—É —É—á–∞—Å—Ç–∏—é –≤ —É–ª—É—á—à–µ–Ω–∏–∏ WiseJSON DB! –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–º–æ—á—å:

*   –°–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö (Bug reports)
*   –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏–ª–∏ —É–ª—É—á—à–µ–Ω–∏–π (Feature suggestions)
*   Pull Request'–∞–º–∏ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ –∏–ª–∏ –Ω–æ–≤—ã–º –∫–æ–¥–æ–º

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∞—à–∏–º –≥–∞–π–¥–ª–∞–π–Ω–æ–º –¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤ (–µ—Å–ª–∏ –æ–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω) –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Issue –Ω–∞ GitHub.

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª `LICENSE` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

–ê–≤—Ç–æ—Ä: Xzdes ([xzdes@yandex.ru](mailto:xzdes@yandex.ru))