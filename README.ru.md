
<div align="center">
  <img src="logo.png" width="100" alt="WiseJSON Logo"/>
  <h1>WiseJSON ‚Äî –ë—ã—Å—Ç—Ä–∞—è JSON –±–∞–∑–∞ –¥–ª—è Node.js</h1>
  <a href="https://www.npmjs.com/package/wise-json-db"><img src="https://img.shields.io/npm/v/wise-json-db.svg?style=flat-square" /></a>
  <a href="https://github.com/Xzdes/WiseJSON"><img src="https://img.shields.io/github/stars/Xzdes/WiseJSON?style=flat-square" /></a>
  <br />
  <b>–ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω–∞—è, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–∞—è –∏ –ø—Ä–æ—Å—Ç–∞—è embedded JSON-–±–∞–∑–∞ –¥–ª—è Node.js</b>
</div>

---

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã–π batch:** –¥–æ 10‚ÄØ000+ –≤—Å—Ç–∞–≤–æ–∫ –∑–∞ —Å–µ–∫—É–Ω–¥—ã, batch-–≤—Å—Ç–∞–≤–∫–∞ 5‚ÄØ000 –∑–∞ 300 –º—Å.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ WAL + —á–µ–∫–ø–æ–∏–Ω—Ç—ã:** –ø–æ—Å–ª–µ —Å–±–æ—è –¥–∞–Ω–Ω—ã–µ –∏ –∏–Ω–¥–µ–∫—Å—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è.
- **–ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ batch, TTL/expire:** –º–∞—Å—Å–æ–≤—ã–µ –≤—Å—Ç–∞–≤–∫–∏, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
- **–°–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã:** –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ —Ä–∞–∑–º–µ—Ä—É, –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –º–∏–ª–ª–∏–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
- **–•—É–∫–∏ —Å–æ–±—ã—Ç–∏–π:** before/after –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏.
- **–ù–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ª–ª–µ–∫—Ü–∏–π, –∏–Ω–¥–µ–∫—Å—ã, —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —É–¥–æ–±–Ω—ã–π API.**
- **–¢–æ–ª—å–∫–æ Node.js –∏ [uuid](https://www.npmjs.com/package/uuid).**
- **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å –∏ –≤—ã—Å–æ–∫–∞—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å.**
- **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ —Å–∞–º—ã—Ö –∂—ë—Å—Ç–∫–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö.**

---

## üåü –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

- **–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:** 15‚ÄØ000 –≤—Å—Ç–∞–≤–æ–∫ (–ø–æ –æ–¥–Ω–æ–π + batch) –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥.
- **Batch –∏–∑ 5‚ÄØ000 –æ–±—ä–µ–∫—Ç–æ–≤** ‚Äî –º–µ–Ω–µ–µ —á–µ–º –∑–∞ 300 –º—Å.
- **–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–π —Å —Ç—ã—Å—è—á–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤.**
- **100% –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ "–∞–≤–∞—Ä–∏–∏" (recovery).**
- **–ù–µ—Ç –ø–æ—Ç–µ—Ä—å –¥–∞–Ω–Ω—ã—Ö, —Å–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã, –∏–Ω–¥–µ–∫—Å—ã –≤—Å–µ–≥–¥–∞ –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.**
- [GitHub/Xzdes/WiseJSON](https://github.com/Xzdes/WiseJSON) | [NPM/wise-json-db](https://www.npmjs.com/package/wise-json-db)

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install wise-json-db uuid
```

---

## üî• –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```js
const WiseJSON = require('wise-json-db');
const db = new WiseJSON('./my-db-folder', { checkpointIntervalMs: 500 });
await db.init();

const users = await db.collection('users');
await users.insert({ name: '–ê–ª–∏—Å–∞', email: 'alice@domain.com' });
const found = await users.findOneByIndexedValue('email', 'alice@domain.com');
console.log(found);
```

---

## üìò –ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Batch –≤—Å—Ç–∞–≤–∫–∞

```js
await users.insertMany([
  { name: '–ë–æ–±', email: 'bob@domain.com' },
  { name: '–ß–∞—Ä–ª–∏', email: 'charlie@domain.com' }
]);
```

### –ò–Ω–¥–µ–∫—Å—ã

```js
await users.createIndex('email', { unique: true });
const user = await users.findOneByIndexedValue('email', 'bob@domain.com');
```

### TTL/expire

```js
await users.insert({
  name: '–ï–≤–∞',
  email: 'eve@domain.com',
  expireAt: Date.now() + 1000 * 60 // —É–¥–∞–ª–∏—Ç—Å—è —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É
});
```

### –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç

```js
const data = await users.getAll();
require('fs').writeFileSync('users-export.json', JSON.stringify(data, null, 2));
// –ò–º–ø–æ—Ä—Ç
const arr = JSON.parse(require('fs').readFileSync('users-export.json', 'utf8'));
await users.insertMany(arr);
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–í—Å–µ —Ç–µ—Å—Ç—ã (easy, stress, extreme, segment, WAL recovery, TTL, batch, —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç, crash recovery, –º—É–ª—å—Ç–∏–∫–æ–ª–ª–µ–∫—Ü–∏–∏) **—É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω—ã**:

- `node test/easy-test-wise-json.js`
- `node test/stress-test-wise-json.js`
- `node test/extreme-stress-wise-json.js`
- `node test/segment-check-test.js`

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- **10‚ÄØ000 –≤—Å—Ç–∞–≤–æ–∫:** ~2.5 —Å–µ–∫
- **5‚ÄØ000 batch-–≤—Å—Ç–∞–≤–æ–∫:** ~300 –º—Å
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ WAL + —á–µ–∫–ø–æ–∏–Ω—Ç:** –≤—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–Ω–æ
- **–ù–µ—Ç –ø–æ—Ç–µ—Ä—å –¥–∞–Ω–Ω—ã—Ö –¥–∞–∂–µ –ø–æ–¥ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π**

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ GitHub: [https://github.com/Xzdes/WiseJSON](https://github.com/Xzdes/WiseJSON#api)

---

## üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18 –∏–ª–∏ –≤—ã—à–µ
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: [uuid](https://www.npmjs.com/package/uuid)

---

## üìé –°—Å—ã–ª–∫–∏

- **GitHub:** [https://github.com/Xzdes/WiseJSON](https://github.com/Xzdes/WiseJSON)
- **NPM:** [https://www.npmjs.com/package/wise-json-db](https://www.npmjs.com/package/wise-json-db)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç—ã](https://github.com/Xzdes/WiseJSON)
- –õ–∏—Ü–µ–Ω–∑–∏—è: MIT

---

**WiseJSON ‚Äî –ª—ë–≥–∫–∞—è, –±—ã—Å—Ç—Ä–∞—è –∏ –Ω–∞–¥—ë–∂–Ω–∞—è embedded –±–∞–∑–∞ –¥–ª—è –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.**

---
